# 卡牌游戏系统

## 项目概述
这是一个基于Web的卡牌游戏系统，使用Python Flask作为后端，前端使用HTML、CSS和JavaScript实现。系统支持卡牌的创建、编辑、删除和搜索功能，以及卡牌对战功能。

## 功能特点
1. 卡牌管理
   - 创建新卡牌
   - 编辑现有卡牌
   - 删除卡牌
   - 搜索卡牌
   - 查看卡牌详情

2. 卡牌属性
   - 基础属性：生命值(HP)、攻击力(ATK)、速度(SPD)、防御力(DEF)、暴击率(CRI)、初始能量(NRG)
   - 元素类型：风、火、水、光、暗、土
   - 技能系统：每个卡牌最多可拥有3个技能

3. 技能系统
   - 技能名称和描述
   - 能量消耗
   - 效果类型：
     - 伤害效果：基础伤害、AOE、暴击率加成、无视防御
     - 治疗效果：治疗量、AOE
     - 增益效果：防御力、闪避率、能量、伤害反弹
     - 减益效果：速度、持续伤害、混乱

4. 对战系统
   - 卡组构建：选择最多5张卡牌组成卡组
   - 回合制战斗：基于速度属性决定行动顺序
   - 能量系统：每回合自动恢复能量，用于释放技能
   - 战斗效果：
     - 伤害计算：考虑攻击力、防御力、暴击率等因素
     - 状态效果：增益和减益效果的持续回合
     - 特殊效果：AOE伤害、治疗、控制等
   - 胜负判定：当一方所有卡牌生命值归零时结束

## 技术架构
1. 前端
   - HTML5：页面结构
   - CSS3：样式设计
   - JavaScript：交互逻辑
   - 模块化设计：将功能分离到不同模块

2. 后端
   - Python Flask：Web框架
   - JSON文件存储：卡牌数据
   - RESTful API：数据交互

## 目录结构
```
CardGame/
├── templates/          # HTML模板文件
│   ├── cards.html     # 卡牌管理页面
│   ├── index.html     # 首页
│   ├── battle.html    # 对战页面
│   ├── prepare.html   # 准备页面
│   └── deck.html      # 卡组页面
├── static/            # 静态资源
│   ├── js/           # JavaScript文件
│   │   ├── main.js   # 主逻辑
│   │   ├── cards.js  # 卡牌管理
│   │   ├── deck.js   # 卡组管理
│   │   └── battle/   # 对战相关
│   ├── css/          # 样式文件
│   └── images/       # 图片资源
├── data/             # 数据文件
│   └── cards.json    # 卡牌数据
└── app.py           # Flask应用主文件
```

## 使用说明
1. 卡牌管理
   - 点击"编辑卡牌"按钮进入编辑模式
   - 选择"添加卡牌"创建新卡牌
   - 选择"修改卡牌"编辑现有卡牌
   - 选择"删除卡牌"删除卡牌
   - 选择"查找卡牌"搜索特定卡牌

2. 卡牌编辑
   - 填写卡牌基本信息：名称、元素类型
   - 设置基础属性值
   - 添加技能：
     - 设置技能名称、消耗和描述
     - 选择效果类型
     - 配置具体效果参数

3. 卡组构建
   - 进入卡组页面
   - 从可用卡牌中选择最多5张
   - 可以调整卡牌顺序
   - 保存卡组配置

4. 对战流程
   - 准备阶段：
     - 选择要使用的卡组
     - 确认对战配置
   - 战斗阶段：
     - 系统根据卡牌速度决定行动顺序
     - 每回合自动恢复能量
     - 选择要使用的技能
     - 选择目标（单体或全体）
     - 执行技能效果
     - 处理状态效果
   - 结束阶段：
     - 显示战斗结果
     - 返回主菜单

5. 数据验证
   - 卡牌名称：1-8个字符
   - 属性值范围：
     - HP：1-30
     - ATK：0-15
     - SPD：1-15
     - DEF：0-10
     - CRI：0-100
     - NRG：0-5
   - 技能限制：
     - 最多3个技能
     - 技能名称：1-6个字符
     - 技能描述：1-50个字符

## 开发规范
1. 前端开发
   - 使用语义化HTML标签
   - 采用BEM命名规范
   - 模块化JavaScript代码
   - 使用ES6+特性
   - 添加适当的注释

2. 后端开发
   - 遵循Flask应用工厂模式
   - 实现RESTful API
   - 添加错误处理
   - 数据验证和清理

## 注意事项
1. 数据安全
   - 所有用户输入都需要验证
   - 敏感操作需要确认
   - 定期备份数据

2. 性能优化
   - 图片资源压缩
   - 代码压缩和合并
   - 缓存策略

3. 兼容性
   - 支持主流现代浏览器
   - 响应式设计
   - 移动端适配

